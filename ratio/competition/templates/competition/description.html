{% extends 'layouts/default/page.html' %}

{% load bootstrap4 %}
{% load i18n %}

{% block content %}
    <main role="main">

        <div class="position-absolute w-100 p-4 d-flex flex-column align-items-end">
            <div class="w-25">
                <div class="toast ml-auto" role="alert" data-delay="2500" data-autohide="true">
                    <div class="toast-header">
                        <strong class="mr-auto text-primary">Ratio</strong>
                        <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="toast-body">
                        {% trans 'You must be logged in to join a competition!' %}
                    </div>
                </div>
            </div>
        </div>

        <section class="jumbotron text-center">
            <div class="container">
                <h1 class="jumbotron-heading">{{ competition.title }}</h1>
                <p class="card-text">{{ competition.tag }}</p>
            </div>
        </section>

        {{ competition.description|safe }}

        {% if request.user.is_authenticated %}
            <a href="/join/{{ competition.id }}">
                <button type="button"
                        class="btn btn-sm btn-outline-primary">{% trans 'Join' %}</button>
            </a>
        {% else %}
            <button type="button" class="btn btn-sm btn-outline-primary"
                    onclick="$('.toast').toast('show')">{% trans 'Join' %}</button>
        {% endif %}

    </main>
{% endblock %}